{% extends 'base.html' %}

{% block title %}Inicio{% endblock %}

{% block content %}
    <div class="p-5 mb-4 bg-light rounded-3 border">
        <div class="container-fluid py-3">
            <div class="d-flex justify-content-between align-items-start">
                <div>
                    <h1 class="display-5 fw-bold">
                        <span style="color: #ff0055">root@jose-server</span>:<span style="color: #00aaff">~</span># ./knowledge_base.sh<span class="blinking-cursor"></span>
                    </h1>
                    <p class="col-md-8 fs-4 mt-3">Procedimientos, scripts de Python, configuraciones de Docker y notas de DevOps.</p>
                </div>
                
                {% if g.user %}
                <a href="{{ url_for('post.create') }}" class="btn btn-cyber ms-3">
                    [ + NEW_ENTRY ]
                </a>
                {% endif %}
            </div>
            
            <div class="col-md-8 mt-4">
                <form class="d-flex gap-2" method="post">
                    <input class="form-control form-control-lg" type="search" name="search" placeholder="ðŸ” Buscar comando, error, configuraciÃ³n..." aria-label="Search">
                    <button class="btn btn-primary btn-lg" type="submit">BUSCAR</button>
                </form>
            </div>
        </div>
    </div>

    <div class="row align-items-md-stretch">
        <h3 class="pb-2 mb-3 border-bottom border-success fst-italic" style="color: var(--text-main);">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-text-bottom"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            RECIENTEMENTE ACTUALIZADO
        </h3>

        {% for post in posts | reverse %}
        <div class="col-md-6 mb-4">
            <div class="h-100 p-4 bg-white border rounded-3 shadow-sm position-relative hover-shadow">
                
                <small class="text-muted d-block mb-2" style="font-family: 'Share Tech Mono'">
                    Actualizado: {{ post.created.strftime('%d %b %Y') }}
                </small>

                <h2 class="h4 mb-3" style="text-shadow: 0 0 5px var(--text-main);">{{ post.title }}</h2>
                
                <p class="text-muted mb-4">
                    {{ post.info[:150] }}...
                </p>
                
                <a href="{{ url_for('home.blog', url = post.url) }}" class="btn btn-outline-primary btn-sm stretched-link">
                    VER DOCUMENTACIÃ“N &rarr;
                </a>
            </div>
        </div>
        {% else %}
        <div class="col-12">
            <div class="alert alert-warning">
                // SYSTEM_EMPTY: No data found.
            </div>
        </div>
        {% endfor %}
    </div>

    <style>
        .hover-shadow:hover {
            transform: translateY(-2px);
            box-shadow: 0 .5rem 1rem rgba(0, 255, 65, 0.15)!important;
            transition: all 0.3s ease;
        }
    </style>
{% endblock %}